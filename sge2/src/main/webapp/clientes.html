<!DOCTYPE html>
<html>
<head>
    <title>Clientes</title>

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>
        <div class="container">
                <div class="page-header">
                    <h1>Bienvenido al control de su hogar<span class="pull-right label label-default">:)</span></h1>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel with-nav-tabs panel-primary">
                            <div class="panel-heading">
                                    <ul class="nav nav-tabs">
                                        <li class="active"><a href="#tabPrimary" data-toggle="tab" onclick="cargarTab(1)">Mi Hogar</a></li>
                                        <li><a href="#tabPrimary" data-toggle="tab" onclick="cargarTab(2)">ABM Reglas y Dispositivos</a></li>
                                        <li><a href="#tabPrimary" data-toggle="tab" onclick="cargarTab(3)">Primary 3</a></li>
                                        <li class="dropdown">
                                            <a href="#" data-toggle="dropdown">Dropdown <span class="caret"></span></a>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><a href="#tabPrimary" data-toggle="tab">Primary 4</a></li>
                                                <li><a href="#tabPrimary" data-toggle="tab">Primary 5</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                            </div>
                            <div class="panel-body">
                                <div class="tab-content" id="tabs"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

</body>

<script id="tab-template1" type="text/x-handlebars-template">
    <div class="tab-pane active" id="tabPrimary">Primary 1 {{usuario.nombre}}</div>
</script>

<script id="tab-template2" type="text/x-handlebars-template">
    <div class="tab-pane active" id="tabPrimary">ABM de reglas y dispositivos {{usuario.apellido}}</div>
</script>

<script>

function cargarTab(idTab) {
    $('#tabs').html('');

    var context={
        "usuario": {
            "nombre": "Tomi",
            "apellido": "Villa"
        }
    };

    if ($("#tab-template"+idTab).length != 0) {
        $(function () {
                // Grab the template script
                var theTemplateScript = $("#tab-template"+idTab).html();
              
                // Compile the template
                var theTemplate = Handlebars.compile(theTemplateScript);
    
                // Pass our data to the template
                var theCompiledHtml = theTemplate(context);
                  
                // Add the compiled html to the page
                $('#tabs').html(theCompiledHtml);
        });        
    }
        
}


$(document).ready(function() {
    cargarTab(1);
});
</script>

</html>